#!/usr/bin/env python
# -*- coding: ISO-8859-1 -*-
# generated by wxGlade 0.3.5.1 on Tue Mar 22 14:29:09 2005

import os.path
import wx
import sys
from ProfileFrame import ProfileFrame
from solipsis.services.profile.facade import get_facade
from solipsis.services.profile import PROFILE_DIR, PROFILE_FILE, \
     skip_disclaimer

def run():
    """launch gui of profile"""
    print "WATCH OUT, stdout == stderr (logilab env)"
    sys.stderr = sys.stdout
    #set up GUI
    import gettext
    gettext.install("app") # replace with the appropriate catalog name
    app = wx.PySimpleApp(0)
    wx.InitAllImageHandlers()
    options = {}
    options["standalone"] = True
    profile_frame = ProfileFrame(options, None, -1, "")

    #set up facade
    facade = get_facade()
    facade.load_profile(os.path.join(PROFILE_DIR, PROFILE_FILE), profile_frame)
    facade.refresh_html_preview()

    #launch gui
    app.SetTopWindow(profile_frame)
    profile_frame.Show()
    profile_frame.blog_tab.on_update()
    app.MainLoop()

    
if __name__ == "__main__":
    run()
