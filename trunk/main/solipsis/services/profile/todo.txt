
# BLOG BUGS ##########################################################

016: Didier_20051005_1
     -----------------
J'ai récupéré le build 578. En attendant l'amélioration du mode de
connexion, le déport sur la status bar de l'avertissement sur les
profils et filtres me convient à un détail près.  Comme la status bar
garde affichée la derrière erreur, il continue à apparaître "profile:
you have no filters defined yet for pseudo Lulu", alors qu'il a été
finalement trouvé au moment de la véritable connexion.

 -> un message 'profil de lulu chargé' est affiché lorsque tout s'est
    bien passé. Il remplace les autres (et cache définitivement le bug
    dans ce cas particulier)

015: Gwendal_20051005_2
     ------------------
pas de 'get files' : context bar affiche "erreur [...] UTF-8"

 -> Messages d'erreurs :
File "/home/gwendal/trunk/main/solipsis/services/profile/network.py", line
641, in _on_complete_pickle
return pickle.loads(obj_str)
File "/usr/lib/python2.4/pickle.py", line 1394, in loads
return Unpickler(file).load()
File "/usr/lib/python2.4/pickle.py", line 872, in load
dispatch[key](self)
File "/usr/lib/python2.4/pickle.py", line 1104, in load_global
klass = self.find_class(module, name)
File "/usr/lib/python2.4/pickle.py", line 1140, in find_class
klass = getattr(mod, name)
exceptions.AttributeError: 'module' object has no attribute 'SharedFiles'

-> l'appel à 'get files' échoue à cause d'un conflit de version. Je
   rajoute une popup (pas d'inquiétude, elle n'apparaitra qu'une fois
   en réponse à l'action 'get profile')

   Le message de la context bar ne correspond pas à cette erreur. Il
   apparait au chargement du profile (qui a reussi) parcequ'il ne peut
   pas lire son encoding (il prend alors la valeur par defaut UTF-8,
   qui est l'encodage par défaut de ta machine).

014: Gwendal_20051005_1
     ------------------
Quand je fais "share" dans le menu file de la fenêtre "modify profile", cela
produit:
File "/home/gwendal/trunk/main/solipsis/services/profile/gui/FilePanel.py",
line 453, in get_selection
selections.append(self.owner.tree_list.GetItemText(child, FULL_PATH_COL))
File "/usr/lib/python2.4/site-packages/wx-2.6-gtk2-unicode/wx/gizmos.py",
line 656, in GetItemText
return _gizmos.TreeListCtrl_GetItemText(*args, **kwargs)
wx._core.PyAssertionError: C++ assertion "wxAssertFailure" failed in
contrib/gizmos/wxCode/src/treelistctrl.cpp(4617): invalid tree item

 -> XXX

013: Gwendal_20051003_1
     ------------------
File "/usr/lib/python2.4/site-packages/twisted/internet/defer.py", 
  line 328,in _runCallbacks
  self.result = callback(self.result, *args, **kw)
File "/home/gwendal/trunk/main/solipsis/services/profile/network.py", 
  line 373, in _on_profile_complete
  get_filter_facade().fill_data(peer_id, document)
exceptions.AttributeError: 'NoneType' object has no attribute 'fill_data'

-> crée structure de filtre vierge si pas encore définie par
   l'utilisateur. L'utilisateur devra tout de même la sauver pour
   qu'elle soit écrite sur le disque

012: Joaquin_20050930_4
     ------------------
Je tente un view profile:
exceptions.AssertionError: [/home/gwendal/Gnutella/Santana/02 Love,
Devotion & Surrender.mp3] not a valid file
Il y a, semble-t-il, un problème avec certains noms de fichier...

-> Corrigé. Le problème venait de la vérification de validité du
   chemin du fichier qui est toujours fausse puisqu'il s'agit d'un
   fichier distant (sur la machine de gwendal). Cette vérification
   n'avait pas lieu d'être.

011: Joaquin_20050930_3
     ------------------
J'essaye un get files sur quelqu'un, il ne se passe rien sauf un
message qui s'affiche:
"sending DOWNLOAD_SHARED"

-> corrigé

010: Joaquin_20050930_2
     ------------------
Quand j'ouvre le profile editor ou l'éditeur de filtre:
AttributeError: 'CommandEvent' object has no attribute 'callback'

-> corrigé

009: Joaquin_20050930_1
     ------------------
Quand je m'approche de qqun ou quand qqun s'approche de moi il s'ouvre
une boîte de dialogue "corrupted profile file".

-> le message est déplacé dans la barre d'état

008: Flavio_20050930_1
     -----------------
when I try to update my profile an error message appears on the
console saying : invalid tag expected as unicode, but there is no way
to change encoding in the gui...

-> version de wxpython non unicode?

007: Gwendal_20050929_2
     ------------------
Exception sur l'ajout de dossiers deja partages
File "/home/gwendal/trunk/main/solipsis/services/profile/document.py", 
  line 236, in add_repository
  raise ValueError("'%s' conflicts with existing repo %s"\
ValueError: '/home/gwendal/Gnutella' conflicts with existing repo

-> remplacée par une popup explicative

006: Gwendal_20050929_1
     ------------------
Exception sur un ajout de dossiers contenant des fichiers ayant un
caractere latin1:
File "/home/gwendal/trunk/main/solipsis/services/profile/gui/FilePanel.py",
  line 270, in _add_item_in_tree
  child = self.tree_list.AppendItem(parent, unicode(name, ENCODING))
File "/usr/lib/python2.4/encodings/utf_8.py", 
  line 16, in decode
  return codecs.utf_8_decode(input, errors, True)
UnicodeDecodeError: 'utf8' codec can't decode bytes in position 7-9: invalid

-> ce pb unicode est particulièrement vivace car il vient de la
   configuration en dual boot de la machine de gwendal: les fichiers
   ne sont pas encodés de la même façon sous windows et sous linux ce
   qui pertube solipsis (entre autres). Il a été corrigé dans la
   structure du logiciel en utilisant systématiquement des str plutot
   que des unicodes (les fonctions bas_niveaux de l'os telles que
   'listdir' bugguent elle-mêmes et n'arrivent pas à renvoyer de
   l'unicode pour tous les noms de fichiers). cette exception
   particulière correspond au module wx qui réagit mal à la présence
   de strings encodées dans différentes tables (ce qui est
   logique). Elle est maintenant également corigée.

005: Joaquin_1
     ---------
Les expressions régulières ne marchent pas pour les filtres de fichiers 

-> corrigé

004: Gwendal_3
     ---------
Le service profile semble faire des recherches de fichiers ".blog"
très régulièrement (à chaque nouvelle rencontre ???), produisant des
ralentissements considérables de l'ensemble des services du
navigateur. Ce phénomène est assez récent mais il affecte gravement
l'utilisation de Solipsis

-> dépends des bugs Didier_2, Didier_3

003: Gwendal_4
     ---------
Selon mon expérience, un très faible pourcentage d'accès aux
informations des entités rencontrées se déroule correctement. Les
messages d'erreurs se multiplient sans qu'aucune explication ne soit
offerte à l'utilisateur Il semble que les mécanismes mis en oeuvre
pour permettre la connexion entre services profile soient défaillants

-> dépends du bug Didier_1

OO2: Didier_2
     --------
prendre en compte l'identifiant persistant des noeuds dans le profil
* dissocier pseudo et node_id dans la description d'un peer
* modifier systeme de sauvegarde pour prendre en compte id

-> réalisé

001: Didier_3
     --------
s'assurer de l'identification des amis (avec le node_id persistent)
* revoir systeme d'archivage des peers rencontrés

-> réalisé

######################################################################
# FEATURES A PRIORISER ###############################################
######################################################################

Didier_1
--------
- intégrer le travail de Luca dans le module de profile
  * refonte du systeme d'echange
  * modification du code ntcp pour une connexion sans aucun NAT

DURÉE
- 5j

Didier_4
--------
mettre une IA basique pour piloter les crawlers: par exemple, lancer
un crawler balayant un segment horizontal, puis le relancer ailleurs
lorsqu?il a finit.
  * ia de lancement et d'arret du bot: 'crawling' statique
  * fonction de navigation: balayage
  * boucle de rétroaction: le noeud rend compte de son balayge et l'ia
    le déplace en conséquence

-> 3j

Didier_5
--------
préparer un simulateur de robot crawler et étudier les meilleurs
méthodes de recherche

-> 10j

Didier_6
--------
implémenter la méthode de recherche retenue dans le moteur de
recherche réel

-> 2j

Gwendal_5
---------
Il est impossible de transmettre les commentaires à un POST dans la
partie BLOG. Les commentaires sont "en local" ce qui a un intérêt très
limité

-> 2j

Joaquin_3
---------
ajouter une liste des peers voisins ayant chargé le module profile

-> 1j

Gwendal_2_1
----------
lenteur du systeme de gestion de partage de fichier

-> A PRECISER
   cela est du au rafraichissement dynamique de l'arborscence.
   1/ enlever dynamisme et ajouter un bouton 'REFRESH': 1j
   2/ OU mettre en place un systeme de cache plus efficace: 3j
